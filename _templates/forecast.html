{% extends "base.html" %}
{% block content %}
{{ super() }}
{% if user_name %}
{% endif %}

{{ style("css/weather-icons.css") }}
{% if weather %}
<div class='weather'>
        <h1>
            <span>Hello, {{ name }}! What can I do you for? ;)</span>
        </h1>
        {% if weather|length != 8 %}
        <div>
          <div>
            Weather for {{ weather[0]['city'] }} (Last updated: {{ weather[0]['time'] }})

            <p class="temperature" style="font-size: 80px">{{ weather[0]['temperature'] }}째C | <span><i class="wi wi-{{ weather[0]["icon"] }}"></i></span></p>

                {% for key in weather[0]%}
                    {% if key == "summary"%}
                        <h1>{{ weather[0][key] }}</h1>
                    {% elif key == "precipProbability"%}
                        <h1>Precipitation probability: {{ weather[0][key]*100 }}%</h1>
                    {% elif key == "windSpeed"%}
                        <h1>Wind speed: {{ weather[0][key] }} km/h</h1>
                    {% endif %}
                {% endfor %}
          </div>
        </div>
        {% endif %}
        {% if weather|length > 9 %}
        <div>
          <div>
           <h1>Hourly forecast for the next 12 hours in {{ weather[0]['city'] }}</h1>
              <br>
                {% for dict in weather[1:13]%}
                        <h1>{{ dict['hour'] }}:00 | {{ dict['temperature'] }}째C | <span><i class="wi wi-{{ dict["icon"] }}"></i></span></h1>
                {% endfor %}
          </div>
        </div>
        {% endif %}
        {% if weather|length == 8 %}
        <div>
          <div>
            <h1>Daily forecast for {{ weather[0]['city'] }}</h1>
              <br>

                {% for dict in weather%}
                        <h1>{{ dict['weekday'] }}</h1> <h1> {{ dict['temperatureMin'] }}째 / {{ dict['temperatureMax'] }}째 </h1><h1><span><i class="wi wi-{{ dict["icon"] }}"></i></span></h1>
                {% endfor %}
          </div>
        </div>
        {% endif %}

{% else %}
    <p>You don't have a hometown set.</p>
{% endif %}
</div>
{% endblock %}